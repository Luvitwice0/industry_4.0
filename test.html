<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantity Filter</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .filter-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .filter-container input[type="number"] {
            width: 100px;
            margin-right: 10px;
        }
    </style>
</head>
<body>

<div class="container mt-4">
    <div class="row">
        <!-- Filter Inputs -->
        <div class="col-lg-3 col-md-4 mb-2">
            <input class="form-control" type="number" id="minQuantity" placeholder="Min Quantity" aria-label="Min Quantity">
        </div>
        <div class="col-lg-3 col-md-4 mb-2">
            <input class="form-control" type="number" id="maxQuantity" placeholder="Max Quantity" aria-label="Max Quantity">
        </div>
        <div class="col-lg-2 col-md-2 mb-2">
            <button class="btn btn-outline-success" id="applyFilter" type="button">Filter</button>
        </div>
        <div class="col-lg-4 col-md-4 mb-3 ms-auto" style="width: 25%;">
            <input class="form-control" type="text" id="myInputx" placeholder="Search" aria-label="Search" name="search">
        </div>
    </div>

    <table class="custom-table table-hover text-center" id="main_table">
        <thead>
            <tr>
                <th>Item</th>
                <th>Unit of Measure</th>
                <th>Quantity</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="main_pp">
            <!-- Table rows will be dynamically inserted here -->
        </tbody>
    </table>

    <br>
    <div class="container">
        <div class="row">
            <div class="col-lg-4 col-md-12 mb-2"></div>
            <div class="col-lg-4 col-md-12 mb-2">
                <nav aria-label="..." id="page1">
                    <ul class="pagination justify-content-center" id="pagination1"></ul>
                </nav>
            </div>
            <div class="col-lg-4 col-md-12 mb-2"></div>
        </div>
    </div>
</div>

<script>
    const jsonData = [
        { item: 'Item001', unit: 'Kg', quantity: 456 },
        { item: 'Item001', unit: 'Mm', quantity: 467 },
        { item: 'Item001', unit: 'Cm', quantity: 467 },
        { item: 'Item001', unit: 'ltr', quantity: 467 },
        { item: 'Item001', unit: 'Kg', quantity: 467 },
        { item: 'Item001', unit: 'Mm', quantity: 467 },
        { item: 'Item001', unit: 'ltr', quantity: 467 }
    ];

    const minQuantity = document.getElementById('minQuantity');
    const maxQuantity = document.getElementById('maxQuantity');
    const applyFilter = document.getElementById('applyFilter');
    const itemTable = document.getElementById('main_pp');

    function updateTable() {
        const min = parseInt(minQuantity.value) || 0;
        const max = parseInt(maxQuantity.value) || Number.MAX_SAFE_INTEGER;

        itemTable.innerHTML = '';

        const filteredData = jsonData.filter(item => item.quantity >= min && item.quantity <= max);
        filteredData.forEach(item => {
            const row = itemTable.insertRow();
            const cell1 = row.insertCell(0);
            const cell2 = row.insertCell(1);
            const cell3 = row.insertCell(2);
            const cell4 = row.insertCell(3);
            cell1.textContent = item.item;
            cell2.textContent = item.unit;
            cell3.textContent = item.quantity;
            cell4.innerHTML = `<button type="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop002" class="btn btn-primary">Create Production Request</button>`;
        });
    }

    applyFilter.addEventListener('click', updateTable);

    // Initial table population
    updateTable();
</script>

</body>
</html>
