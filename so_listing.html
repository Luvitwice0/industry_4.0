<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- BOOTSTRAP CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- BOOTSTRAP JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <title>SO Listing</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="css/bstreeview.css" rel="stylesheet">
    <!-- FONTAWESOME LINK -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


    <style>
        body {
            margin: auto;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
        }

        .main-container {
            padding: 10px;
        }

        /*
        @preserve
        bstreeview.css
        Version: 1.2.0
        Authors: Sami CHNITER <sami.chniter@gmail.com>
        Copyright 2020
        License: Apache License 2.0
        Project: https://github.com/chniter/bstreeview
        */
        .bstreeview {
            width: 1320px;
            position: relative;
            /* display: -ms-flexbox; */
            display: flex;
            -ms-flex-direction: column;
            flex-direction: column;
            /* min-width: 0; */
            word-wrap: break-word;
            background-color: #fff;
            background-clip: border-box;
            border: 1px solid rgba(0, 0, 0, .125);
            border-radius: 0.25rem;

            padding: 0;
            overflow: hidden;
        }

        .bstreeview .list-group {
            margin-bottom: 0;
        }

        .bstreeview .list-group-item {
            border-radius: 0;
            border-width: 1px 0 0 0;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
            cursor: pointer;
        }

        .bstreeview .list-group-item:hover {
            background-color: #dee2e6;
        }

        .bstreeview>.list-group-item:first-child {
            border-top-width: 0;
        }

        .bstreeview .state-icon {
            margin-right: 8px;
            width: 12px;
            text-align: center;
        }

        .bstreeview .item-icon {
            margin-right: 10px;
        }

        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td,
        th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }


        .modal-body {
            overflow-y: auto;
        }

        ul,
        #myUL {
            list-style-type: none;
        }

        #myUL {
            margin: 0;
            padding: 0;
        }

        .caret {
            cursor: pointer;
            -webkit-user-select: none;
            /* Safari 3.1+ */
            -moz-user-select: none;
            /* Firefox 2+ */
            -ms-user-select: none;
            /* IE 10+ */
            user-select: none;
        }

        .caret::before {
            content: "\25B6";
            color: black;
            display: inline-block;
            margin-right: 6px;
        }

        .caret-down::before {
            -ms-transform: rotate(90deg);
            /* IE 9 */
            -webkit-transform: rotate(90deg);
            /* Safari */

            transform: rotate(90deg);
        }

        .nested {
            display: none;
        }

        .active {
            display: block;
        }

        .tree-item {
            background-color: #f2f2f2;
            /* Set your desired background color */
            padding: 10px;
            margin-bottom: 5px;
            border-radius: 5px;
        }

        .tree-item span {
            font-weight: bold;
        }
    </style>

</head>

<body>
    <div class="main-container">
        <a href="home.html" style="text-decoration: none;">
            <h5 style="float: left;">ChattingBirds/
        </a>SalesOrder Management</h5>
        <br>
        <hr>
        <div class="dark-background" id="darkBackground"></div>
    </div>
    <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed d-flex align-items-center" type="button"
                    data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false"
                    aria-controls="flush-collapseOne">
                    <span class="me-2">SalesOrder ID: AS23MA</span>
                    <span><i class="fa-solid fa-eye"></i></span>
                </button>
            </h2>

            <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <div class="card card-body" style="padding-top: 1px;">
                        <div class="content">
                            <div class="row">
                                <div class="col-md-6 pt-5">
                                    <h5>List of MasterProducts</h5>
                                    <div id="tree1">
                                        <!-- Tree content goes here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed d-flex align-items-center" type="button"
                    data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false"
                    aria-controls="flush-collapseTwo">
                    <span class="me-2">SalesOrder ID: AS24MA</span>
                    <span><i class="fa-solid fa-eye"></i></span>
                </button>
            </h2>

            <div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <div class="card card-body" style="padding-top: 1px;">
                        <div class="content">
                            <div class="row">
                                <div class="col-md-6 pt-5">
                                    <h5>List of MasterProducts</h5>
                                    <div id="tree2">
                                        <!-- Tree content goes here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade custom-modal-class " id="exampleModalCenter" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Master Product 01</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body modal-body-" style="max-height: 800px; max-width: 100%; position:
                relative;">
                    <!-- Left side of the modal body -->
                    <div style="width: 50%; padding-right: 10px; box-sizing: border-box; float: left;">
                        <div class="modal-body" style="max-height: 800px; max-width: 100%;">
                            <table>
                                <tr>
                                    <td>Operator Name</td>
                                    <td>Chintu</td>

                                </tr>
                                <tr>
                                    <td>Plant Name</td>
                                    <td>Plant 1</td>
                                </tr>
                                <tr>
                                    <td>Quantity</td>
                                    <td> 200</td>
                                </tr>
                                <tr>
                                    <td>Accepted Quantity </td>
                                    <td> 150</td>
                                </tr>
                                <tr>
                                    <td>Rejected Quantity</td>
                                    <td>50</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <!-- Right side of the modal body -->
                    <div style="width: 50%; padding-left: 10px; box-sizing: border-box; float: left;">
                        <div id="treeright">
                            <ul id="myUL">
                                <li class="tree-item">
                                    <div>
                                        <span class="caret">Beverages</span>
                                    </div>
                                    <ul class="nested">
                                        <li class="tree-item">
                                            <div>Water</div>
                                        </li>
                                        <li class="tree-item">
                                            <div>Coffee</div>
                                        </li>
                                        <li class="tree-item">
                                            <div>
                                                <span class="caret">Tea</span>
                                            </div>
                                            <ul class="nested">
                                                <li class="tree-item">
                                                    <div>Black Tea</div>
                                                </li>
                                                <li class="tree-item">
                                                    <div>White Tea</div>
                                                </li>
                                                <li class="tree-item">
                                                    <div>
                                                        <span class="caret">Green Tea</span>
                                                    </div>
                                                    <ul class="nested">
                                                        <li class="tree-item">
                                                            <div>Sencha</div>
                                                        </li>
                                                        <li class="tree-item">
                                                            <div>Gyokuro</div>
                                                        </li>
                                                        <li class="tree-item">
                                                            <div>Matcha</div>
                                                        </li>
                                                        <li class="tree-item">
                                                            <div>Pi Lo Chun</div>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closePopup()"
                        data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>



    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>

    <script src="js/bstreeview.js">
    </script>
    <script>
        var toggler = document.getElementsByClassName("caret");
        var i;

        for (i = 0; i < toggler.length; i++) {
            toggler[i].addEventListener("click", function () {
                this.parentElement.querySelector(".nested").classList.toggle("active");
                this.classList.toggle("caret-down");
            });
        }
    </script>
    <script>
        $(function () {

            var json = [
                {
                    text: "MasterProduct1",
                    icon: "fa fa-eye fa-fw",

                    nodes: [
                        {
                            text: "Item1",
                            icon: "fa fa-eye fa-fw",
                            nodes: [
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem1"
                                },
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem2"
                                }
                            ]
                        },
                        {
                            text: "Item2",
                            icon: "fa fa-eye fa-fw",
                            nodes: [
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem1"
                                },
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem2"
                                }
                            ]
                        },
                        {
                            text: "Item3",
                            icon: "fa fa-eye fa-fw",
                            nodes: [
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem1"
                                },
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem2"
                                }
                            ]
                        }
                    ]
                },
                {
                    text: "MasterProduct2",
                    icon: "fa fa-eye fa-fw",
                    nodes: [
                        {
                            text: "Item1",
                            icon: "fa fa-eye fa-fw",
                            nodes: [
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem1"
                                },
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem2"
                                }
                            ]
                        },
                        {
                            text: "Item2",
                            icon: "fa fa-eye fa-fw",
                            nodes: [
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem1"
                                },
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem2"
                                }
                            ]
                        },
                        {
                            text: "Item3",
                            icon: "fa fa-eye fa-fw",
                            nodes: [
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem1"
                                },
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem2"
                                }
                            ]
                        }
                    ]
                },
                {
                    text: "MasterProduct1",
                    icon: "fa fa-eye fa-fw",
                    nodes: [
                        {
                            text: "Item1",
                            icon: "fa fa-eye fa-fw",
                            nodes: [
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem1"
                                },
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem2"
                                }
                            ]
                        },
                        {
                            text: "Item2",
                            icon: "fa fa-eye fa-fw",
                            nodes: [
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem1"
                                },
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem2"
                                }
                            ]
                        },
                        {
                            text: "Item3",
                            icon: "fa fa-eye fa-fw",
                            nodes: [
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem1"
                                },
                                {
                                    icon: "fa fa-eye fa-fw",
                                    text: "Subitem2"
                                }
                            ]
                        }
                    ]
                }
            ];

            $('#tree1').bstreeview({
                data: json,
                expandIcon: 'fa fa-angle-down fa-fw',
                collapseIcon: 'fa fa-angle-right fa-fw',
                indent: 1.25,
                parentsMarginLeft: '5.25rem',
                openNodeLinkOnNewTab: true
            });

            $('#tree2').bstreeview({
                data: json,
                expandIcon: 'fa fa-angle-down fa-fw',
                collapseIcon: 'fa fa-angle-right fa-fw',
                indent: 1.25,
                parentsMarginLeft: '1.25rem',
                openNodeLinkOnNewTab: true
            });

            $('.bstreeview .list-group-item').on('click', function (e) {
                if ($(e.target).hasClass('fa-eye')) {
                    // Eye icon is clicked, show the modal
                    $('#exampleModalCenter').modal('show');
                }
            });


        });
    </script>

    <script>
        /*! @preserve
        * bstreeview.js
        * Version: 1.2.0
        * Authors: Sami CHNITER <sami.chniter@gmail.com>
        * Copyright 2020
        * License: Apache License 2.0
        *
        * Project: https://github.com/chniter/bstreeview
        */
        ; (function ($, window, document, undefined) {
            "use strict";
            /**
             * Default bstreeview  options.
             */
            var pluginName = "bstreeview",
                defaults = {
                    expandIcon: 'fa fa-angle-down fa-fw',
                    collapseIcon: 'fa fa-angle-right fa-fw',
                    indent: 1.25,
                    parentsMarginLeft: '1.25rem',
                    openNodeLinkOnNewTab: true

                };
            /**
             * bstreeview HTML templates.
             */
            var templates = {
                treeview: '<div class="bstreeview"></div>',
                treeviewItem: '<div role="treeitem" class="list-group-item" data-toggle="collapse"></div>',
                treeviewGroupItem: '<div role="group" class="list-group collapse" id="itemid"></div>',
                treeviewItemStateIcon: '<i class="state-icon"></i>',
                treeviewItemIcon: '<i class="item-icon"></i>'
            };
            /**
             * BsTreeview Plugin constructor.
             * @param {*} element 
             * @param {*} options 
             */
            function bstreeView(element, options) {
                this.element = element;
                this.itemIdPrefix = element.id + "-item-";
                this.settings = $.extend({}, defaults, options);
                this.init();
            }
            /**
             * Avoid plugin conflict.
             */
            $.extend(bstreeView.prototype, {
                /**
                 * bstreeview intialize.
                 */
                init: function () {
                    this.tree = [];
                    this.nodes = [];
                    // Retrieve bstreeview Json Data.
                    if (this.settings.data) {
                        if (this.settings.data.isPrototypeOf(String)) {
                            this.settings.data = $.parseJSON(this.settings.data);
                        }
                        this.tree = $.extend(true, [], this.settings.data);
                        delete this.settings.data;
                    }
                    // Set main bstreeview class to element.
                    $(this.element).addClass('bstreeview');

                    this.initData({ nodes: this.tree });
                    var _this = this;
                    this.build($(this.element), this.tree, 0);
                    // Update angle icon on collapse
                    $(this.element).on('click', '.list-group-item', function (e) {
                        $('.state-icon', this)
                            .toggleClass(_this.settings.expandIcon)
                            .toggleClass(_this.settings.collapseIcon);
                        // navigate to href if present
                        if (e.target.hasAttribute('href')) {
                            if (_this.settings.openNodeLinkOnNewTab) {
                                window.open(e.target.getAttribute('href'), '_blank');
                            }
                            else {
                                window.location = e.target.getAttribute('href');
                            }
                        }
                    });
                },
                /**
                 * Initialize treeview Data.
                 * @param {*} node 
                 */
                initData: function (node) {
                    if (!node.nodes) return;
                    var parent = node;
                    var _this = this;
                    $.each(node.nodes, function checkStates(index, node) {

                        node.nodeId = _this.nodes.length;
                        node.parentId = parent.nodeId;
                        _this.nodes.push(node);

                        if (node.nodes) {
                            _this.initData(node);
                        }
                    });
                },
                /**
                 * Build treeview.
                 * @param {*} parentElement 
                 * @param {*} nodes 
                 * @param {*} depth 
                 */
                build: function (parentElement, nodes, depth) {
                    var _this = this;
                    // Calculate item padding.
                    var leftPadding = _this.settings.parentsMarginLeft;

                    if (depth > 0) {
                        leftPadding = (_this.settings.indent + depth * _this.settings.indent).toString() + "rem;";
                    }
                    depth += 1;
                    // Add each node and sub-nodes.
                    $.each(nodes, function addNodes(id, node) {
                        // Main node element.
                        var treeItem = $(templates.treeviewItem)
                            .attr('data-target', "#" + _this.itemIdPrefix + node.nodeId)
                            .attr('style', 'padding-left:' + leftPadding)
                            .attr('aria-level', depth);
                        // Set Expand and Collapse icones.
                        if (node.nodes) {
                            var treeItemStateIcon = $(templates.treeviewItemStateIcon)
                                .addClass(_this.settings.collapseIcon);
                            treeItem.append(treeItemStateIcon);
                        }
                        // set node icon if exist.
                        if (node.icon) {
                            var treeItemIcon = $(templates.treeviewItemIcon)
                                .addClass(node.icon);
                            treeItem.append(treeItemIcon);
                        }
                        // Set node Text.
                        treeItem.append(node.text);
                        // Reset node href if present
                        if (node.href) {
                            treeItem.attr('href', node.href);
                        }
                        // Add class to node if present
                        if (node.class) {
                            treeItem.addClass(node.class);
                        }
                        // Add custom id to node if present
                        if (node.id) {
                            treeItem.attr('id', node.id);
                        }
                        // Attach node to parent.
                        parentElement.append(treeItem);
                        // Build child nodes.
                        if (node.nodes) {
                            // Node group item.
                            var treeGroup = $(templates.treeviewGroupItem)
                                .attr('id', _this.itemIdPrefix + node.nodeId);
                            parentElement.append(treeGroup);
                            _this.build(treeGroup, node.nodes, depth);
                        }
                    });
                }
            });

            // A really lightweight plugin wrapper around the constructor,
            // preventing against multiple instantiations
            $.fn[pluginName] = function (options) {
                return this.each(function () {
                    if (!$.data(this, "plugin_" + pluginName)) {
                        $.data(this, "plugin_" +
                            pluginName, new bstreeView(this, options));
                    }
                });
            };
        })(jQuery, window, document);
    </script>

</body>

</html>